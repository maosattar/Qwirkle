<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Qwirkle Score Tracker</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    * {
      -webkit-tap-highlight-color: transparent;
    }
    body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      overscroll-behavior: none;
    }
    input[type="number"]::-webkit-inner-spin-button,
    input[type="number"]::-webkit-outer-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
    input[type="number"] {
      -moz-appearance: textfield;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // Simple localStorage wrapper to replace window.storage
    const storage = {
      async get(key) {
        try {
          const value = localStorage.getItem(key);
          return value ? { value } : null;
        } catch (e) {
          return null;
        }
      },
      async set(key, value) {
        try {
          localStorage.setItem(key, value);
          return true;
        } catch (e) {
          console.error('Storage error:', e);
          return false;
        }
      },
      async delete(key) {
        try {
          localStorage.removeItem(key);
          return true;
        } catch (e) {
          return false;
        }
      },
      async list(prefix) {
        try {
          const keys = Object.keys(localStorage)
            .filter(key => key.startsWith(prefix));
          return { keys };
        } catch (e) {
          return { keys: [] };
        }
      }
    };

    // Lucide Icons as SVG components
    const Trophy = ({ className }) => (
      <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
      </svg>
    );

    const Users = ({ className }) => (
      <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
      </svg>
    );

    const History = ({ className }) => (
      <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
    );

    const Plus = ({ className }) => (
      <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
      </svg>
    );

    const ArrowLeft = ({ className }) => (
      <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 19l-7-7m0 0l7-7m-7 7h18" />
      </svg>
    );

    const Star = ({ className }) => (
      <svg className={className} fill="currentColor" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
      </svg>
    );

    const Trash2 = ({ className }) => (
      <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
      </svg>
    );

    function QwirkleScorer() {
      const [view, setView] = useState('menu');
      const [players, setPlayers] = useState([]);
      const [currentGame, setCurrentGame] = useState(null);
      const [gameHistory, setGameHistory] = useState([]);
      const [leaderboardData, setLeaderboardData] = useState([]);
      const [loading, setLoading] = useState(true);
      const [setupPlayerCount, setSetupPlayerCount] = useState(0);
      const [expandedGame, setExpandedGame] = useState(null);

      useEffect(() => {
        loadData();
      }, []);

      const loadData = async () => {
        try {
          setLoading(true);

          const historyResult = await storage.list('game:');
          if (historyResult && historyResult.keys) {
            const games = [];
            for (const key of historyResult.keys) {
              try {
                const gameResult = await storage.get(key);
                if (gameResult) {
                  games.push(JSON.parse(gameResult.value));
                }
              } catch (e) {
                console.log('Game not found:', key);
              }
            }
            games.sort((a, b) => new Date(b.date) - new Date(a.date));
            setGameHistory(games);
            calculateLeaderboard(games);
          }
        } catch (error) {
          console.log('Loading data:', error);
          setGameHistory([]);
          setLeaderboardData([]);
        } finally {
          setLoading(false);
        }
      };

      const calculateLeaderboard = (games) => {
        const playerStats = {};

        games.forEach(game => {
          game.players.forEach(player => {
            if (!playerStats[player.name]) {
              playerStats[player.name] = {
                name: player.name,
                gamesPlayed: 0,
                wins: 0,
                totalScore: 0,
                totalQwirkles: 0,
                avgScore: 0,
                highScore: 0
              };
            }

            const stats = playerStats[player.name];
            stats.gamesPlayed++;
            stats.totalScore += player.score;
            stats.totalQwirkles += player.qwirkles;
            stats.highScore = Math.max(stats.highScore, player.score);

            if (player.winner) {
              stats.wins++;
            }
          });
        });

        Object.values(playerStats).forEach(stats => {
          stats.avgScore = Math.round(stats.totalScore / stats.gamesPlayed);
        });

        const leaderboard = Object.values(playerStats).sort((a, b) => {
          if (b.wins !== a.wins) return b.wins - a.wins;
          return b.avgScore - a.avgScore;
        });

        setLeaderboardData(leaderboard);
      };

      const startNewGame = (playerCount) => {
        const newPlayers = Array.from({ length: playerCount }, (_, i) => ({
          name: `Player ${i + 1}`,
          score: 0,
          qwirkles: 0,
          rounds: []
        }));
        setPlayers(newPlayers);
        setSetupPlayerCount(playerCount);
        setView('names');
      };

      const startGameWithNames = () => {
        setCurrentGame({
          id: Date.now().toString(),
          startTime: new Date().toISOString(),
          players: players,
          currentRound: []
        });
        setView('game');
      };

      const updatePlayerName = (index, name) => {
        const updated = [...players];
        updated[index].name = name;
        setPlayers(updated);
      };

      const updateRoundScore = (index, score) => {
        const updated = [...currentGame.currentRound];
        updated[index] = {
          score: Math.max(0, parseInt(score) || 0),
          qwirkle: updated[index]?.qwirkle || false
        };
        setCurrentGame({
          ...currentGame,
          currentRound: updated
        });
      };

      const toggleQwirkle = (index) => {
        const updated = [...currentGame.currentRound];
        if (!updated[index]) {
          updated[index] = { score: 0, qwirkle: false };
        }

        const wasQwirkle = updated[index].qwirkle;
        updated[index].qwirkle = !wasQwirkle;

        if (!wasQwirkle) {
          updated[index].score = (updated[index].score || 0) + 12;
        } else {
          updated[index].score = Math.max(0, (updated[index].score || 0) - 12);
        }

        setCurrentGame({
          ...currentGame,
          currentRound: updated
        });
      };

      const completeRound = () => {
        const updated = players.map((player, index) => {
          const roundData = currentGame.currentRound[index] || { score: 0, qwirkle: false };
          return {
            ...player,
            rounds: [...player.rounds, roundData],
            score: player.score + roundData.score,
            qwirkles: player.qwirkles + (roundData.qwirkle ? 1 : 0)
          };
        });

        setPlayers(updated);
        setCurrentGame({
          ...currentGame,
          currentRound: []
        });
      };

      const endGame = async () => {
        if (!currentGame) return;

        const maxScore = Math.max(...players.map(p => p.score));
        const finalPlayers = players.map(p => ({
          ...p,
          winner: p.score === maxScore
        }));

        const completedGame = {
          id: currentGame.id,
          date: new Date().toISOString(),
          players: finalPlayers
        };

        try {
          await storage.set(`game:${completedGame.id}`, JSON.stringify(completedGame));
          await loadData();
          setCurrentGame(null);
          setPlayers([]);
          setView('menu');
        } catch (error) {
          console.error('Error saving game:', error);
          alert('Failed to save game. Please try again.');
        }
      };

      const deleteGame = async (gameId) => {
        if (!confirm('Delete this game?')) return;

        try {
          await storage.delete(`game:${gameId}`);
          await loadData();
        } catch (error) {
          console.error('Error deleting game:', error);
        }
      };

      if (loading) {
        return (
          <div className="min-h-screen bg-gradient-to-br from-purple-500 via-pink-500 to-red-500 flex items-center justify-center">
            <div className="text-white text-xl">Loading...</div>
          </div>
        );
      }

      if (view === 'menu') {
        return (
          <div className="min-h-screen bg-gradient-to-br from-purple-500 via-pink-500 to-red-500 p-6">
            <div className="max-w-md mx-auto">
              <div className="text-center mb-8 mt-8">
                <h1 className="text-5xl font-bold text-white mb-2">Qwirkle</h1>
                <p className="text-white text-opacity-90">Score Tracker</p>
              </div>

              <div className="space-y-4">
                <button
                  onClick={() => setView('setup')}
                  className="w-full bg-white text-purple-600 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all flex items-center justify-between"
                >
                  <div className="flex items-center gap-3">
                    <Plus className="w-6 h-6" />
                    <span className="text-xl font-semibold">New Game</span>
                  </div>
                </button>

                <button
                  onClick={() => setView('history')}
                  className="w-full bg-white text-purple-600 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all flex items-center justify-between"
                >
                  <div className="flex items-center gap-3">
                    <History className="w-6 h-6" />
                    <span className="text-xl font-semibold">Game History</span>
                  </div>
                  <span className="text-sm bg-purple-100 px-3 py-1 rounded-full">
                    {gameHistory.length}
                  </span>
                </button>

                <button
                  onClick={() => setView('leaderboard')}
                  className="w-full bg-white text-purple-600 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all flex items-center justify-between"
                >
                  <div className="flex items-center gap-3">
                    <Trophy className="w-6 h-6" />
                    <span className="text-xl font-semibold">Leaderboard</span>
                  </div>
                </button>
              </div>
            </div>
          </div>
        );
      }

      if (view === 'setup') {
        return (
          <div className="min-h-screen bg-gradient-to-br from-purple-500 via-pink-500 to-red-500 p-6">
            <div className="max-w-md mx-auto">
              <button
                onClick={() => setView('menu')}
                className="mb-6 text-white flex items-center gap-2"
              >
                <ArrowLeft className="w-5 h-5" />
                <span>Back</span>
              </button>

              <div className="text-center mb-8">
                <h2 className="text-3xl font-bold text-white mb-2">How many players?</h2>
              </div>

              <div className="grid grid-cols-2 gap-4">
                {[2, 3, 4].map(count => (
                  <button
                    key={count}
                    onClick={() => startNewGame(count)}
                    className="bg-white text-purple-600 rounded-xl p-8 shadow-lg hover:shadow-xl transition-all"
                  >
                    <Users className="w-12 h-12 mx-auto mb-3" />
                    <div className="text-3xl font-bold">{count}</div>
                    <div className="text-sm text-gray-600">Players</div>
                  </button>
                ))}
              </div>
            </div>
          </div>
        );
      }

      if (view === 'names') {
        const allNamesEntered = players.every(p => p.name.trim().length > 0);

        return (
          <div className="min-h-screen bg-gradient-to-br from-purple-500 via-pink-500 to-red-500 p-6">
            <div className="max-w-md mx-auto">
              <button
                onClick={() => setView('setup')}
                className="mb-6 text-white flex items-center gap-2"
              >
                <ArrowLeft className="w-5 h-5" />
                <span>Back</span>
              </button>

              <div className="text-center mb-8">
                <h2 className="text-3xl font-bold text-white mb-2">Enter Player Names</h2>
                <p className="text-white text-opacity-90">You can change these later during the game</p>
              </div>

              <div className="space-y-4 mb-6">
                {players.map((player, index) => (
                  <div key={index} className="bg-white rounded-xl p-4 shadow-lg">
                    <label className="block text-sm font-medium text-gray-600 mb-2">
                      Player {index + 1}
                    </label>
                    <input
                      type="text"
                      value={player.name}
                      onChange={(e) => updatePlayerName(index, e.target.value)}
                      className="w-full px-4 py-3 border-2 border-gray-200 rounded-lg text-lg focus:border-purple-500 outline-none"
                      placeholder={`Enter name for Player ${index + 1}`}
                      autoFocus={index === 0}
                    />
                  </div>
                ))}
              </div>

              <button
                onClick={startGameWithNames}
                disabled={!allNamesEntered}
                className={`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all ${
                  allNamesEntered
                    ? 'bg-white text-purple-600 hover:shadow-xl'
                    : 'bg-white bg-opacity-50 text-purple-300 cursor-not-allowed'
                }`}
              >
                Start Game
              </button>
            </div>
          </div>
        );
      }

      if (view === 'game') {
        const currentRoundNumber = players[0]?.rounds.length + 1 || 1;
        const hasCurrentRoundData = currentGame?.currentRound.some(r => r?.score > 0 || r?.qwirkle);

        return (
          <div className="min-h-screen bg-gradient-to-br from-purple-500 via-pink-500 to-red-500 p-4">
            <div className="max-w-2xl mx-auto">
              <div className="mb-4 flex justify-between items-center">
                <button
                  onClick={() => {
                    if (confirm('End this game?')) {
                      setView('menu');
                      setCurrentGame(null);
                      setPlayers([]);
                    }
                  }}
                  className="text-white flex items-center gap-2"
                >
                  <ArrowLeft className="w-5 h-5" />
                  <span>Cancel</span>
                </button>

                <div className="text-white font-bold text-lg">
                  Round {currentRoundNumber}
                </div>

                <button
                  onClick={endGame}
                  className="bg-white text-purple-600 px-6 py-2 rounded-lg font-semibold shadow-lg"
                >
                  End Game
                </button>
              </div>

              <div className="bg-white rounded-xl p-4 shadow-lg mb-4">
                <h3 className="text-lg font-bold text-purple-600 mb-3">Current Round</h3>
                <div className="space-y-3">
                  {players.map((player, index) => {
                    const roundData = currentGame?.currentRound[index] || { score: 0, qwirkle: false };
                    return (
                      <div key={index} className="space-y-2">
                        <div className="flex items-center gap-3">
                          <div className="flex-1 font-medium">{player.name}</div>
                          <input
                            type="number"
                            value={roundData.score || ''}
                            onChange={(e) => updateRoundScore(index, e.target.value)}
                            className="w-20 px-3 py-2 border-2 border-gray-200 rounded-lg text-center font-bold text-lg focus:border-purple-500 outline-none"
                            placeholder="0"
                            min="0"
                          />
                          <button
                            onClick={() => toggleQwirkle(index)}
                            className={`px-4 py-2 rounded-lg transition-colors font-semibold flex items-center gap-2 ${
                              roundData.qwirkle
                                ? 'bg-amber-400 text-white'
                                : 'bg-gray-100 text-gray-600 hover:bg-gray-200'
                            }`}
                            title="Qwirkle (12 points)"
                          >
                            <Star className={`w-4 h-4 ${roundData.qwirkle ? 'fill-current' : ''}`} />
                            {roundData.qwirkle && <span className="text-sm">+12</span>}
                          </button>
                        </div>
                      </div>
                    );
                  })}
                </div>

                <button
                  onClick={completeRound}
                  disabled={!hasCurrentRoundData}
                  className={`w-full mt-4 py-3 rounded-lg font-semibold transition-colors ${
                    hasCurrentRoundData
                      ? 'bg-purple-600 text-white hover:bg-purple-700'
                      : 'bg-gray-200 text-gray-400 cursor-not-allowed'
                  }`}
                >
                  Complete Round
                </button>
              </div>

              <div className="bg-white rounded-xl p-4 shadow-lg mb-4">
                <h3 className="text-lg font-bold text-purple-600 mb-3">Total Scores</h3>
                <div className="space-y-2">
                  {players
                    .map((player, index) => ({ ...player, index }))
                    .sort((a, b) => b.score - a.score)
                    .map((player, rank) => (
                      <div key={player.index} className="flex items-center justify-between">
                        <div className="flex items-center gap-3">
                          <div className="text-2xl font-bold text-gray-300 w-8">
                            #{rank + 1}
                          </div>
                          <div>
                            <div className="font-semibold">{player.name}</div>
                            <div className="text-sm text-gray-500">
                              {player.qwirkles} <Star className="w-3 h-3 inline fill-amber-400 text-amber-400" />
                            </div>
                          </div>
                        </div>
                        <div className="text-3xl font-bold text-purple-600">
                          {player.score}
                        </div>
                      </div>
                    ))}
                </div>
              </div>

              {players[0]?.rounds.length > 0 && (
                <div className="bg-white rounded-xl p-4 shadow-lg">
                  <h3 className="text-lg font-bold text-purple-600 mb-3">Round History</h3>
                  <div className="overflow-x-auto">
                    <table className="w-full text-sm">
                      <thead>
                        <tr className="border-b">
                          <th className="text-left py-2 px-2">Player</th>
                          {players[0].rounds.map((_, idx) => (
                            <th key={idx} className="text-center py-2 px-2">R{idx + 1}</th>
                          ))}
                        </tr>
                      </thead>
                      <tbody>
                        {players.map((player, pIdx) => (
                          <tr key={pIdx} className="border-b last:border-0">
                            <td className="py-2 px-2 font-medium">{player.name}</td>
                            {player.rounds.map((round, rIdx) => (
                              <td key={rIdx} className="text-center py-2 px-2">
                                <div className="flex items-center justify-center gap-1">
                                  {round.score}
                                  {round.qwirkle && (
                                    <Star className="w-3 h-3 fill-amber-400 text-amber-400" />
                                  )}
                                </div>
                              </td>
                            ))}
                          </tr>
                        ))}
                      </tbody>
                    </table>
                  </div>
                </div>
              )}
            </div>
          </div>
        );
      }

      if (view === 'history') {
        return (
          <div className="min-h-screen bg-gradient-to-br from-purple-500 via-pink-500 to-red-500 p-6">
            <div className="max-w-2xl mx-auto">
              <button
                onClick={() => setView('menu')}
                className="mb-6 text-white flex items-center gap-2"
              >
                <ArrowLeft className="w-5 h-5" />
                <span>Back</span>
              </button>

              <h2 className="text-3xl font-bold text-white mb-6">Game History</h2>

              {gameHistory.length === 0 ? (
                <div className="bg-white rounded-xl p-8 text-center text-gray-500">
                  No games played yet
                </div>
              ) : (
                <div className="space-y-4">
                  {gameHistory.map(game => {
                    const winner = game.players.find(p => p.winner);
                    const isExpanded = expandedGame === game.id;

                    return (
                      <div key={game.id} className="bg-white rounded-xl p-4 shadow-lg">
                        <div className="flex justify-between items-start mb-3">
                          <div className="flex-1">
                            <div className="text-sm text-gray-500">
                              {new Date(game.date).toLocaleDateString()} at{' '}
                              {new Date(game.date).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}
                            </div>
                            <div className="text-lg font-bold text-purple-600 flex items-center gap-2">
                              <Trophy className="w-5 h-5" />
                              {winner?.name} won!
                            </div>
                          </div>
                          <button
                            onClick={() => deleteGame(game.id)}
                            className="text-red-500 hover:text-red-700 p-2"
                          >
                            <Trash2 className="w-5 h-5" />
                          </button>
                        </div>

                        <div className="space-y-2 mb-3">
                          {game.players
                            .sort((a, b) => b.score - a.score)
                            .map((player, idx) => (
                              <div key={idx} className="flex justify-between items-center text-sm">
                                <span className={player.winner ? 'font-bold' : ''}>
                                  {player.name}
                                </span>
                                <div className="flex items-center gap-4">
                                  <span className="text-gray-500">
                                    {player.qwirkles} <Star className="w-4 h-4 inline fill-amber-400 text-amber-400" />
                                  </span>
                                  <span className="font-semibold">{player.score} pts</span>
                                </div>
                              </div>
                            ))}
                        </div>

                        {game.players[0]?.rounds && game.players[0].rounds.length > 0 && (
                          <>
                            <button
                              onClick={() => setExpandedGame(isExpanded ? null : game.id)}
                              className="text-purple-600 text-sm font-semibold hover:text-purple-700 w-full text-center py-2 border-t"
                            >
                              {isExpanded ? 'Hide' : 'Show'} Round Details
                            </button>

                            {isExpanded && (
                              <div className="mt-3 overflow-x-auto">
                                <table className="w-full text-xs">
                                  <thead>
                                    <tr className="border-b">
                                      <th className="text-left py-2 px-2">Player</th>
                                      {game.players[0].rounds.map((_, idx) => (
                                        <th key={idx} className="text-center py-2 px-1">R{idx + 1}</th>
                                      ))}
                                      <th className="text-center py-2 px-2 font-bold">Total</th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    {game.players.map((player, pIdx) => (
                                      <tr key={pIdx} className="border-b last:border-0">
                                        <td className="py-2 px-2 font-medium">{player.name}</td>
                                        {player.rounds.map((round, rIdx) => (
                                          <td key={rIdx} className="text-center py-2 px-1">
                                            <div className="flex items-center justify-center gap-1">
                                              {round.score}
                                              {round.qwirkle && (
                                                <Star className="w-3 h-3 fill-amber-400 text-amber-400" />
                                              )}
                                            </div>
                                          </td>
                                        ))}
                                        <td className="text-center py-2 px-2 font-bold">{player.score}</td>
                                      </tr>
                                    ))}
                                  </tbody>
                                </table>
                              </div>
                            )}
                          </>
                        )}
                      </div>
                    );
                  })}
                </div>
              )}
            </div>
          </div>
        );
      }

      if (view === 'leaderboard') {
        return (
          <div className="min-h-screen bg-gradient-to-br from-purple-500 via-pink-500 to-red-500 p-6">
            <div className="max-w-2xl mx-auto">
              <button
                onClick={() => setView('menu')}
                className="mb-6 text-white flex items-center gap-2"
              >
                <ArrowLeft className="w-5 h-5" />
                <span>Back</span>
              </button>

              <h2 className="text-3xl font-bold text-white mb-6">Leaderboard</h2>

              {leaderboardData.length === 0 ? (
                <div className="bg-white rounded-xl p-8 text-center text-gray-500">
                  No data yet - play some games!
                </div>
              ) : (
                <div className="space-y-4">
                  {leaderboardData.map((player, index) => (
                    <div key={player.name} className="bg-white rounded-xl p-4 shadow-lg">
                      <div className="flex items-center gap-4">
                        <div className={`text-3xl font-bold ${
                          index === 0 ? 'text-amber-500' :
                          index === 1 ? 'text-gray-400' :
                          index === 2 ? 'text-orange-600' :
                          'text-gray-400'
                        }`}>
                          {index === 0 ? 'ðŸ¥‡' : index === 1 ? 'ðŸ¥ˆ' : index === 2 ? 'ðŸ¥‰' : `#${index + 1}`}
                        </div>

                        <div className="flex-1">
                          <div className="text-xl font-bold">{player.name}</div>
                          <div className="text-sm text-gray-600 grid grid-cols-2 gap-2 mt-1">
                            <div>Wins: {player.wins}/{player.gamesPlayed}</div>
                            <div>Avg: {player.avgScore} pts</div>
                            <div>High: {player.highScore} pts</div>
                            <div>Qwirkles: {player.totalQwirkles}</div>
                          </div>
                        </div>
                      </div>
                    </div>
                  ))}
                </div>
              )}
            </div>
          </div>
        );
      }

      return null;
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<QwirkleScorer />);
  </script>
</body>
</html>
